<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>ì˜ˆë§¤ ì •ë³´</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #f8f9fa;
            min-height: 100vh;
            position: relative;
            padding-bottom: 80px; /* í™ˆ ë²„íŠ¼ì„ ìœ„í•œ ì—¬ë°± */
        }
        .ticket-card {
            border-radius: 1rem;
            margin-bottom: 2rem;
        }
        .ticket-detail p {
            margin-bottom: 0.5rem;
        }
        .badge-title {
            font-size: 0.9rem;
            background-color: #0d6efd;
        }
        .home-button {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
    </style>
</head>
<body>

<div class="container py-5">
    <!-- í˜ì´ì§€ í—¤ë” -->
    <div class="text-center mb-5">
        <h2 class="fw-bold">ğŸŸï¸ ë‚™ì°° ì •ë³´ í™•ì¸</h2>
        <p class="text-muted">ë‚´ê°€ ë‚™ì°°ë°›ì€ í‹°ì¼“ ì •ë³´ë¥¼ ì•„ë˜ì—ì„œ í™•ì¸í•˜ì„¸ìš”.</p>
    </div>

    <!-- ë‚™ì°° ì •ë³´ ì¹´ë“œ ëª©ë¡ -->
    <div th:each="result : ${auctionResults}" class="card shadow-sm bg-white ticket-card p-4">
        <div class="d-flex justify-content-between align-items-center border-bottom pb-3 mb-3">
            <div>
                <h4 class="fw-bold mb-1" th:text="${result.auction.concert.title}">ê³µì—° ì œëª©</h4>
                <span class="badge badge-title text-white" th:text="${result.status}">ë‚™ì°° ìƒíƒœ</span>
            </div>
            <div class="text-end">
                <small class="text-muted">ë‚™ì°°ë²ˆí˜¸</small>
                <div class="fw-semibold" th:text="${result.id}">1234567890</div>
            </div>
        </div>

        <!-- ì„¸ë¶€ ì •ë³´ -->
        <div class="ticket-detail">
            <p><strong>ğŸ‘¤ ì•„í‹°ìŠ¤íŠ¸:</strong> <span th:text="${result.auction.concert.artist}">ì•„í‹°ìŠ¤íŠ¸ëª…</span></p>
            <p><strong>ğŸ“… ë‚ ì§œ:</strong> <span th:text="${#temporals.format(result.auction.concert.dateTime, 'yyyy-MM-dd (E) HH:mm')}">ê³µì—° ì¼ì‹œ</span></p>
            <p><strong>ğŸª‘ ì¢Œì„ë²ˆí˜¸:</strong> <span th:text="${result.seatNo}">ì¢Œì„ë²ˆí˜¸</span></p>
            <p><strong>ğŸ“ ì¥ì†Œ:</strong> <span th:text="${result.auction.concert.place}">ê³µì—°ì¥</span></p>
            <p><strong>ğŸ­ ì¹´í…Œê³ ë¦¬:</strong> <span th:text="${result.auction.concert.category}">ì¹´í…Œê³ ë¦¬</span></p>
            <p><strong>ğŸ’³ ë‚™ì°° ê¸ˆì•¡:</strong> <span th:text="${result.finalBidAmount}">ë‚™ì°°ê°€</span>ì›</p>
            <p><strong>ğŸ•’ ê²½ë§¤ ê¸°ê°„:</strong> 
                <span th:text="${#temporals.format(result.auction.startTime, 'yyyy-MM-dd HH:mm')}">ì‹œì‘ì‹œê°„</span> ~ 
                <span th:text="${#temporals.format(result.auction.endTime, 'yyyy-MM-dd HH:mm')}">ì¢…ë£Œì‹œê°„</span>
            </p>
        </div>

        <!-- ë²„íŠ¼ ì˜ì—­ -->
        <div class="mt-4 d-flex justify-content-between">
            <a href="/users/mypage" class="btn btn-outline-secondary">â† ë§ˆì´í˜ì´ì§€ë¡œ ëŒì•„ê°€ê¸°</a>
            <a th:if="${result.status == T(com.cashticket.entity.AuctionResultStatusEnum).WINNER}" 
               th:href="@{'/users/mypage/reservations/' + ${result.id}}" 
               class="btn btn-primary">ìƒì„¸ ë³´ê¸°</a>
        </div>
    </div>
</div>

<!-- í™ˆ ë²„íŠ¼ -->
<a th:href="@{/}" class="btn btn-primary home-button">
    <i class="bi bi-house-door"></i> í™ˆìœ¼ë¡œ
</a>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
