<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
    <meta charset="UTF-8">
    <title>콘서트 티켓 경매</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script>
        // 간단한 카운트다운
        let timeLeft = 300; // 5분
        function updateCountdown() {
            const display = document.getElementById("countdown");
            const min = Math.floor(timeLeft / 60);
            const sec = timeLeft % 60;
            display.textContent = `${min}분 ${sec < 10 ? '0' + sec : sec}초`;
            if (timeLeft > 0) timeLeft--;
        }
        setInterval(updateCountdown, 1000);
    </script>
</head>
<body class="bg-light p-4">
<div class="container">
    <h2 class="mb-3">🎫 콘서트 티켓 경매</h2>

    <!-- 콘서트 정보 -->
    <div class="card mb-4">
        <div class="card-body">
            <h5 class="card-title" th:text="${concert.name}">콘서트명</h5>
            <p class="card-text">
                일정: <span th:text="${concert.date}">2025-06-10</span><br>
                장소: <span th:text="${concert.location}">서울 올림픽공원</span>
            </p>
        </div>
    </div>

    <!-- 입찰 정보 -->
    <div class="card mb-4">
        <div class="card-body">
            <h5>📈 현재 최고 입찰가: <span class="text-primary fw-bold" th:text="${concert.currentBid}">120,000</span>원</h5>
            <p>⏳ 남은 시간: <span id="countdown">5분 00초</span></p>

            <!-- 입찰 폼 -->
            <form th:action="@{/auction/bid}" method="post" class="mt-3">
                <div class="mb-3">
                    <label for="bidAmount" class="form-label">입찰 금액 (원)</label>
                    <input type="number" class="form-control" id="bidAmount" name="bidAmount" min="1000" required>
                </div>
                <input type="hidden" name="concertId" th:value="${concert.id}">
                <button type="submit" class="btn btn-success">입찰하기</button>
            </form>
        </div>
    </div>

    <!-- 입찰 성공 메시지 -->
    <div th:if="${success}" class="alert alert-success" role="alert">
        입찰이 성공적으로 완료되었습니다!
    </div>

    <!-- 입찰 실패 메시지 -->
    <div th:if="${error}" class="alert alert-danger" role="alert">
        입찰 금액은 현재 최고가보다 높아야 합니다.
    </div>
</div>
</body>
</html>
